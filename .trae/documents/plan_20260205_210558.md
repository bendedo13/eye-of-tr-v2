# Admin Paneli Geliştirme Planı: Bildirimler, Scraping ve Güvenlik

Kullanıcı talebi doğrultusunda, mevcut sisteme kapsamlı bir admin yönetim seti eklenecektir. Plan 3 ana başlıkta toplanmıştır.

## 1. Bildirim Yönetim Sistemi (Notification System)
Kullanıcılara (tekli, toplu veya grup bazlı) zengin içerikli bildirimler göndermek için bir altyapı kurulacak.

### Backend (`app/models/notification.py`, `app/api/notifications.py`)
- **Veri Modeli:** `Notification` tablosu (başlık, içerik, tür [text, image, video], hedef kitle, durum, gönderim zamanı).
- **API Endpointleri:**
  - `POST /api/admin/notifications`: Yeni bildirim oluştur.
  - `GET /api/admin/notifications`: Geçmiş bildirimleri listele.
  - `GET /api/notifications`: Kullanıcının kendi bildirimlerini çekmesi için.

### Frontend (`admin/notifications/page.tsx`)
- **Arayüz:** `aside` menüsüne "Bildirimler" sekmesi eklenecek.
- **Form:** Başlık, mesaj, medya URL'i ve hedef kitle seçimi (Dropdown).
- **Önizleme:** Gönderilmeden önce bildirimin nasıl görüneceğine dair canlı önizleme.
- **Geçmiş:** Gönderilen bildirimlerin listesi ve durumları (okundu/iletildi).

## 2. Web Scraping & Veri İndeksleme Modülü
Hedef web sitelerinden otomatik görsel veri toplamak için bir araç geliştirilecek.

### Backend (`app/services/scraper_service.py`, `app/api/admin.py`)
- **Scraper Engine:** `BeautifulSoup` ve `requests` (veya `playwright`) kullanarak verilen URL'den `img` taglerini tarayan servis.
- **Otomasyon:** "100 Fotoğraf Testi" butonu. Hedef siteden ilk 100 görseli çeker, `uploads/scraped/{domain}/` klasörüne kaydeder.
- **Veritabanı Kaydı:** Çekilen görselleri `FaceIndex` veya benzeri bir yapıya kaydederek aranabilir hale getirir.
- **Raporlama:** Kaç adet çekildi, kaçı başarılı, geçen süre vb.

### Frontend (`admin/scraping/page.tsx`)
- **Panel:** URL giriş alanı ve "Taramayı Başlat" butonu.
- **Canlı Log:** Taranan görsellerin anlık akışı (terminal benzeri log ekranı).
- **Galeri:** Son taranan görsellerin ızgara (grid) görünümü.

## 3. Güvenlik ve Admin Ayarları
Admin hesabının güvenliğini artırmak için yönetim araçları.

### Backend (`app/api/auth.py` güncellemesi)
- **Şifre Değiştirme:** Admin'in mevcut şifresini doğrulayıp yenisini atayan endpoint.
- **Güvenlik Politikası:** En az 8 karakter, harf/rakam zorunluluğu kontrolü.

### Frontend (`admin/settings/page.tsx`)
- **Ayarlar Sayfası:** Şifre değiştirme formu ve sistem genel ayarları.

---

## Uygulama Adımları

1.  **Veritabanı & Backend:** Bildirim ve Scraping modellerini oluştur, API'ları yaz.
2.  **Frontend Admin UI:** `aside` menüsüne yeni linkleri ekle (`/admin/notifications`, `/admin/scraping`).
3.  **Sayfa Tasarımları:** İlgili yönetim sayfalarını `GlassCard` temasına uygun kodla.
4.  **Entegrasyon & Test:** Bildirim gönderip kullanıcı tarafında (Dashboard) göründüğünü doğrula. Scraping başlatıp klasöre dosyaların indiğini teyit et.
